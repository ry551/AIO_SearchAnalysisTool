# AIO Search Analysis Tool 再現プロンプト

このプロンプトは、Antigravity（またはCursor等のAIエディタ）に対して、本ツールをゼロから作成させるための指示書です。

---

## 依頼内容
以下の仕様に基づき、「AIO & 検索上位分析エージェント」を作成してください。Next.js (App Router), Tailwind CSS, TypeScript を使用し、最終的に Electron でデスクトップアプリ化できる構成にします。

### 1. UIデザイン仕様
- **テーマ**: 深みのあるダークモード（`#131314` 背景, `#1e1f20` コンテナ）。
- **デザインスタイル**: 「Solid & Bold」。角丸 0px のスクエアな外観、`max-w-5xl` の横幅。
- **メインタイトル**: `premium-gradient-text`（`#4285f4`, `#9b72cb`, `#d96570` のグラデーション）。
- **入力エリア**: 
  - フォントサイズ `text-xl`。
  - 自然な改行（`pre-wrap`, `break-words`）。
  - 音声入力ボタン（Micアイコン）を搭載。
  - 送信ボタン（Sendアイコン）を搭載。
- **アニメーション**:
  - 音声録音時：アイコンの点滅 ＋ 3重の赤い波紋（ripple）エフェクト。
  - 分析中：進捗ステップ（サイト取得 -> 分析 -> 推論 -> Notion）をアイコン付きで表示。

### 2. コア機能
- **AIO絶対優先の分析フロー**: 検索結果の順位に関わらず、Google AIOが実際に引用しているURL（最大5件）を網羅的に特定し、分析対象にします。
- **AI引用の『正解』を解明**: 
  - なぜ検索上位ではないサイトがAIに選ばれたのかを分析。
  - AIが好む「ダイレクト・アンサー（結論の1文）」を抽出。
  - 競合が触れていない「独自要素（E-E-A-T）」を特定。
- **Notion連携**: 専用プロパティ（ダイレクト・アンサー、独自要素（E-E-A-T）、AIO勝因分析、参考URL等）へ自動保存。
- **分析エンジン (Gemini)**: `responseMimeType: "application/json"` を使用し、構造化された高精度な分析を提供。「停止」ボタンで全ての処理（APIリクエスト含む）を中断できるようにすること。

### 3. デスクトップアプリ (Electron)
- `main.js` を作成し、`npm run dev:desktop` で専用ウィンドウが立ち上がるように構成。
- ワンクリック起動用の `Launch_App.bat` を作成（Windows用）。

### 4. 音声入力
- `Web Speech API` を使用。録音開始と同時にUIのアニメーションを連動させ、文字入力をテキストエリアに自動追記。

### 5. 環境変数
`.env.local` に以下を期待するように実装してください：
- `GOOGLE_GENERATIVE_AI_API_KEY`
- `SERPER_API_KEY`
- `NOTION_API_KEY`
- `NOTION_DATABASE_ID`
